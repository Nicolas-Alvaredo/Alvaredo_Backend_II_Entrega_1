<h2>Agregar Producto</h2>
<form id="productForm" class="product-form">
    <input type="text" id="title" placeholder="Nombre del producto" required>
    <input type="number" id="price" placeholder="Precio" required>
    <input type="text" id="description" placeholder="Descripción" required>
    <input type="text" id="code" placeholder="Código" required>
    <input type="number" id="stock" placeholder="Stock" required>
    <input type="text" id="category" placeholder="Categoría" required>
    <button type="submit">Agregar</button>
</form>

<div id="contenedorProductos" class="product-container"></div>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();

document.getElementById("productForm").addEventListener("submit", (event) => {
    event.preventDefault();
    const product = {
        title: document.getElementById("title").value,
        price: document.getElementById("price").value,
        description: document.getElementById("description").value,
        code: document.getElementById("code").value,
        stock: document.getElementById("stock").value,
        category: document.getElementById("category").value,
    };
    socket.emit("nuevoProducto", product);
});

socket.on("productos", (productos) => {
    const container = document.getElementById("contenedorProductos");
    container.innerHTML = "";
    productos.forEach((prod) => {
        const div = document.createElement("div");
        div.classList.add("product-card");
        div.innerHTML = `<h2>${prod.title}</h2><p><strong>Precio:</strong> $${prod.price}</p>`;
        container.appendChild(div);
    });
});
</script>
